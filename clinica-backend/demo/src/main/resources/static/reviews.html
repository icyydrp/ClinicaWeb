<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reseñas de Pacientes - Clínica Señor de Luren</title>
    <link rel="stylesheet" href="css/reviews.css">
    <link href="https://fonts.googleapis.com/css2?family=Unbounded:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Satoshi:wght@400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

    <!-- Contenedor de fondo -->
    <div class="background-fondo"></div>

    <!-- Navbar -->
    <header>
        <div class="container-wrapper">
            <div class="logo-container">
                <div class="logo">
                    <a href="Nosotros.html">
                        <img src="images/logo clinica señor de Luren.png" alt="Logo de la Clínica">
                    </a>
                </div>
            </div>
            <div class="menu-container">
                <ul class="nav-menu">
                    <li><a href="paginainicio.html">INICIO</a></li>
                    <li><a href="servicios.html">SERVICIOS</a></li>
                    <li><a href="especialidades.html">ESPECIALIDADES</a></li>
                    <li><a href="reviews.html" class="active">REVIEWS</a></li>
                    <li><a href="noticias.html">NOTICIAS</a></li>
                    <li><a href="contactos.html">CONTACTOS</a></li>
                    <li><a href="agendarCita.html">RESERVAS</a></li>
                </ul>
            </div>
            <div class="nav-buttons-container">
                <ul class="nav-buttons">
                    <li><a href="login.html">INICIAR SESIÓN</a></li>
                    <li><a href="#" onclick="toggleRegisterOptions()">REGISTRAR</a></li>
                </ul>
            </div>
        </div>
    </header>

    <div id="register-options" style="display: none; text-align: center; margin-top: 80px;">
        <p>Elija una opción para registrarse</p>
        <button onclick="window.location.href='registroPaciente.html'" class="register-btn">Registrar como Paciente</button>
        <button onclick="window.location.href='registroMedico.html'" class="register-btn">Registrar como Médico</button>
        <span class="close-span" onclick="toggleRegisterOptions()">&#x2716;</span>
    </div>

    <!-- Sección de Reseñas -->
    <section class="review-section">
        <h1>Reseñas de Pacientes</h1>
        <p>Conoce lo que dicen nuestros pacientes sobre su experiencia en la clínica.</p>

        <div class="review-container">
            <!-- Formulario para agregar reseñas -->
            <div class="review-form-container">
                <h2>Escribe una Reseña</h2>
                <form id="review-form" class="review-form">
                    <label for="review-name">Nombre:</label>
                    <input type="text" id="review-name" placeholder="Tu nombre" required>
                    
                    <label for="doctor-select">Doctor:</label>
                    <select id="doctor-select" required>
                        <option value="" disabled selected>Seleccione un doctor</option>
                        <option value="bregu_sarmiento">Bregu Sarmiento Cielo</option>
                        <option value="alvarez_taboada">Alvarez Taboada</option>
                        <option value="anchante_gongora">Anchante Gongora Norma Elizabeth</option>
                        <option value="antayhua_rondinel">Antayhua Rondinel Jose Neftali</option>
                        <option value="aparcana_machado">Aparcana Machado Juliana</option>
                        <option value="aparcana_uribe">Aparcana Uribe Raul Martin</option>
                        <option value="aquije_paliza">Aquije Paliza Ana Maria</option>
                        <option value="arbulu_gavilano">Arbulu Gavilano Jose</option>
                        <option value="arotuma_granda">Arotuma Granda Maria Del Carmen</option>
                        <option value="avalos_segovia">Avalos Segovia Wilder Edilberto</option>
                        <option value="aybar_escriba">Aybar Escriba Lidia</option>
                        <option value="bazzetti_briceño">Bazzetti Briceño Vicente Mario</option>
                        <option value="bendezu_martinez">Bendezu Martinez Guido</option>
                        <option value="bustamante_guerra">Bustamante Guerra Severo Felix</option>
                        <option value="bustamante_vera">Bustamante Vera Oscar Martin</option>
                        <option value="cabrejos_valderrama">Cabrejos Valderrama Janish</option>
                        <option value="cabrera_gonzales">Cabrera Gonzales Luis Alberto</option>
                        <option value="campos_valencia">Campos Valencia Rocio Liliam</option>
                        <option value="carbajo_gallardo">Carbajo Gallardo Noemi</option>
                        <option value="carlos_candia">Carlos Candia Enrique</option>
                        <option value="carrascal_alvarado">Carrascal Alvarado Hugo</option>
                        <option value="casavilca_zambrano">Casavilca Zambrano Sandro Angel</option>
                        <option value="chavesta_custodio">Chavesta Custodio Alan Marco</option>
                        <option value="chinquillo_arango">Chinquillo Arango Edith Lourdes</option>
                    </select>

                    <label for="specialty-select">Especialidad:</label>
                    <select id="specialty-select" required>
                        <option value="" disabled selected>Seleccione una especialidad</option>
                        <option value="cardiologia">Cardiología</option>
                        <option value="neurologia">Neurología</option>
                        <option value="oftalmologia">Oftalmología</option>
                        <option value="dermatologia">Dermatología</option>
                        <option value="pediatria">Pediatría</option>
                        <option value="endocrinologia">Endocrinología</option>
                        <option value="urologia">Urología</option>
                        <option value="traumatologia">Traumatología</option>
                        <option value="psiquiatria">Psiquiatría</option>
                        <option value="ginecologia">Ginecología</option>
                    </select>

                    <label for="review-rating">Calificación:</label>
                    <select id="review-rating" required>
                        <option value="5">5 - Excelente</option>
                        <option value="4">4 - Muy bueno</option>
                        <option value="3">3 - Bueno</option>
                        <option value="2">2 - Regular</option>
                        <option value="1">1 - Malo</option>
                    </select>

                    <label for="review-text">Reseña:</label>
                    <textarea id="review-text" placeholder="Escribe tu reseña aquí..." rows="4" required></textarea>
                    
                    <button type="submit">Enviar Reseña</button>
                </form>
            </div>

            <!-- Lista de reseñas -->
            <div class="reviews-list-container">
                <h2>Reseñas de Pacientes</h2>
                <ul id="reviews-list" class="reviews-list">
                    <!-- Las reseñas se agregarán aquí automáticamente -->
                </ul>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <!-- Sección izquierda -->
            <div class="footer-section left">
                <p>Emergencias: 955223631</p>
                <p>Citas: 955401599</p>
                <p>Ubicación: Av. San Martín #536</p>
            </div>

            <!-- Sección central (Logo y redes sociales) -->
            <div class="footer-section center">
                <h2>Clínica Señor de Luren</h2>
                <div class="social-icons">
                    <a href="https://www.facebook.com/ClinicaLuren/" target="_blank"><i class="fab fa-facebook"></i></a>
                </div>
            </div>

            <!-- Sección derecha -->
            <div class="footer-section right">
                <p><a href="mailto:clinica_luren@hotmail.com">Correo: clinica_luren@hotmail.com</a></p>
                <p>Horarios de Atención: Lunes a Viernes</p>
                <p>Servicios de Urgencias las 24 horas</p>
            </div>
        </div>
    </footer>

    <!-- Link a Font Awesome para los íconos -->
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

    <script>
        document.getElementById("review-form").addEventListener("submit", function(event) {
            event.preventDefault();
    
            const reviewData = {
                nombrePaciente: document.getElementById("review-name").value,
                nombreDoctor: document.getElementById("doctor-select").options[document.getElementById("doctor-select").selectedIndex].text,
                especialidad: document.getElementById("specialty-select").value,
                calificacion: parseInt(document.getElementById("review-rating").value),
                comentario: document.getElementById("review-text").value
            };
    
            fetch("http://localhost:8080/api/reviews/add", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(reviewData)
            })
            .then(response => response.json())
            .then(data => {
                const newReview = document.createElement("li");
                newReview.innerHTML = `
                    <strong>${data.nombrePaciente}</strong> - <em>${data.calificacion} estrellas</em> (${data.nombreDoctor}, ${data.especialidad})
                    <p>${data.comentario}</p>
                `;
                document.getElementById("reviews-list").prepend(newReview);
                document.getElementById("review-form").reset();
            })
            .catch(error => console.error("Error:", error));
        });
    </script>
</body>
</html>
